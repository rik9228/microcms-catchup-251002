# ğŸ’¡ microCMSé€£æºã®å‰ã«ç†è§£ã—ã¦ãŠããŸã„ã“ã¨ï¼ˆJavaScriptåŸºç¤ï¼‰

microCMSã‚’ä½¿ç”¨ã™ã‚‹ä¸Šã§ã€ä»¥ä¸‹ã®çŸ¥è­˜ã‚’å¿…è¦ã¨ã—ã¾ã™ã€‚

- **API**
- **éåŒæœŸå‡¦ç†**
- åŸºæœ¬çš„ãªé…åˆ—æ“ä½œ
- ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ‰±ã„
- DOMæ“ä½œã®åŸºç¤

## 1. API
ğŸ”¸ APIï¼ˆApplication Programming Interfaceï¼‰ã¨ã¯

-> ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ãƒ»é€ä¿¡ã™ã‚‹ãŸã‚ã«å¿…è¦ãªä»•çµ„ã¿
ä¾‹ï¼šmicroCMSã‚„Weather APIã€GitHub APIãªã©

Webåˆ¶ä½œã§ã¯ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»è¨˜äº‹å–å¾—å‘¨ã‚Šã«ãŠã„ã¦ã€ãƒ–ãƒ­ã‚°é‹å–¶ãªã©ã§ä½¿ç”¨ã™ã‚‹ã‚±ãƒ¼ã‚¹ãŒå¤šã„ã§ã™ã€‚

ã¾ãŸã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚‚å¤©æ°—æƒ…å ±ã‚„é›»è»Šã®é…å»¶æƒ…å ±ãªã©ã‚’å–å¾—ã—ã¦ä½¿ã„ãŸã„

ã¨ã„ã£ãŸå ´åˆã«ã€å›½ã‚„è‡ªæ²»ä½“ãªã©ãŒå…¬é–‹ã—ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦æœ‰åŠ¹æ´»ç”¨ã§ãã¾ã™ã€‚

ğŸ”¸ ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹
APIé€šä¿¡ã¯ã€Œè³ªå•ã¨å›ç­”ã€ã®ã‚ˆã†ãªä»•çµ„ã¿ã§ã™ã€‚

## 2. éåŒæœŸå‡¦ç† ï¼ˆasync / awaitï¼‰

ğŸ”¸ éåŒæœŸå‡¦ç†ã¨ã¯ï¼Ÿ

Webã‚µã‚¤ãƒˆã§APIã‚’ä½¿ã†ã¨ãã€ãƒ‡ãƒ¼ã‚¿ã®ã‚„ã‚Šå–ã‚Šï¼ˆé€šä¿¡ï¼‰ã«ã¯å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚

ãŸã¨ãˆã° microCMS ã‹ã‚‰è¨˜äº‹ã‚’å–å¾—ã™ã‚‹ã¨ãã‚‚ã€

ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®çŠ¶æ…‹ã«ã‚ˆã£ã¦ã¯ 0.5 ç§’ã€œ2 ç§’ ã»ã©ã‹ã‹ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã®ã€Œæ™‚é–“ãŒã‹ã‹ã‚‹å‡¦ç†ã€ã‚’å¾…ãŸãšã«é€²ã‚ã‚‹ä»•çµ„ã¿ãŒã€JavaScriptã®ã€ŒéåŒæœŸå‡¦ç†ã€ã§ã™ã€‚

ğŸ§  ä¾‹ãˆã‚‹ãªã‚‰ï¼šã€Œå‹é”ã«è²·ã„ç‰©ã‚’é ¼ã‚“ã§ã€ãã®é–“ã«æƒé™¤ã‚’é€²ã‚ã‚‹ã€ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚

ğŸ”¸ ãªãœéåŒæœŸå‡¦ç†ãŒå¿…è¦ãªã®ã‹ï¼Ÿ

ã‚‚ã—JavaScriptãŒ**ã™ã¹ã¦ã®å‡¦ç†ã‚’é †ç•ªã«ã—ã‹å®Ÿè¡Œã§ããªã„ï¼ˆåŒæœŸå‡¦ç†ï¼‰**ã ã‘ã ã£ãŸã‚‰ã€
é€šä¿¡ä¸­ã¯ã‚¢ãƒ—ãƒªå…¨ä½“ãŒæ­¢ã¾ã£ã¦ã—ã¾ã„ã¾ã™ã€‚

```javascript
// ä»®ã«åŒæœŸçš„ãªä¸–ç•Œã ã£ãŸã‚‰â€¦
const data = fetchSync('https://example.microcms.io/api/v1/news') // â† é€šä¿¡å®Œäº†ã¾ã§åœæ­¢
console.log('ãƒ‡ãƒ¼ã‚¿å–å¾—å®Œäº†:', data)
```

ã“ã®å ´åˆã€é€šä¿¡ãŒçµ‚ã‚ã‚‹ã¾ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä½•ã‚‚ã§ãã¾ã›ã‚“ã€‚

ãƒœã‚¿ãƒ³ã‚‚æŠ¼ã›ãªã„ã—ã€ç”»é¢ã‚‚ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ãã¾ã›ã‚“ã€‚

ãã‚Œã‚’é˜²ããŸã‚ã« JavaScript ã¯ **éåŒæœŸå‡¦ç†** ã‚’ä½¿ã„ã€ã€Œé€šä¿¡ãŒçµ‚ã‚ã‚‹ã¾ã§ä»–ã®å‡¦ç†ã‚’é€²ã‚ã‚‹ã€ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ï¼ˆãã†ã„ã†è¨­è¨ˆã«ãªã£ã¦ã„ã‚‹ï¼‰


ğŸ”¸ fetch() ã¯éåŒæœŸã§å‹•ã

JavaScriptã§APIé€šä¿¡ã‚’è¡Œã†éš›ã«ã‚ˆãä½¿ã†ã®ãŒ `fetch()` ã§ã™ã€‚

->  `Promiseã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ` ã‚’è¿”ã—ã¾ã™ã€‚

ã“ã“ã§ã¯`https://randomuser.me/api/` ã‚’ä¾‹ã«APIã‚’å©ã„ã¦ã¿ã¾ã™ã€‚

```javascript
const res = fetch('https://randomuser.me/api/')
console.log(res) // Promise { <pending> } â† â€œã¾ã çµæœãŒå±Šã„ã¦ã„ã¾ã›ã‚“â€
```

-> ã“ã®æ™‚ç‚¹ã§ã¯ã€Œçµæœã¯å¾Œã§æ¸¡ã™ã­ã€ã¨ã„ã†â€œç´„æŸï¼ˆPromiseï¼‰â€ã®çŠ¶æ…‹ãŒã¨ã‚Šã‚ãˆãšè¿”ã•ã‚Œã¾ã™ã€‚

ğŸ”¸ async / await ã®åŸºæœ¬æ§‹æ–‡

async ã¨ await ã‚’ä½¿ã†ã¨ã€
ã€Œé€šä¿¡ãŒçµ‚ã‚ã‚‹ã®ã‚’ä¸€æ™‚çš„ã«å¾…ã£ã¦ã‹ã‚‰æ¬¡ã®å‡¦ç†ã¸é€²ã‚€ã€ã“ã¨ãŒã§ãã¾ã™ã€‚

`fetch()` ã®çµæœã¯**Promiseï¼ˆæœªç¢ºå®šã®ãƒ‡ãƒ¼ã‚¿ï¼‰**ãªã®ã§ã€

å®Ÿéš›ã®ä¸­èº«ã‚’ä½¿ã†ã«ã¯ await ã§â€œè§£å‡â€ï¼ˆã™ã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰ã—ã¦ã‹ã‚‰æ‰±ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```javascript
async function getUsers() {
  // é€šä¿¡ãŒçµ‚ã‚ã‚‹ã¾ã§ã“ã®è¡Œã§ä¸€æ™‚åœæ­¢
  const res = await fetch('https://randomuser.me/api/');
  // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’JSONã«å¤‰æ›ï¼ˆã“ã“ã‚‚éåŒæœŸå‡¦ç†ï¼‰
  const data = await res.json()
  console.log(data)
}
getUsers()
```

<details>
  <summary>â†“â†“â†“ å®Ÿéš›ã«è¿”ã•ã‚Œã‚‹å–å¾—ãƒ‡ãƒ¼ã‚¿ â†“â†“â†“</summary>

```json
{
  "results": [
    {
      "gender": "male",
      "name": {
        "title": "Mr",
        "first": "Kerim",
        "last": "KÃ¶ybaÅŸÄ±"
      },
      "location": {
        "street": {
          "number": 2507,
          "name": "Mevlana Cd"
        },
        "city": "Erzurum",
        "state": "Bayburt",
        "country": "Turkey",
        "postcode": 86015,
        "coordinates": {
          "latitude": "72.8081",
          "longitude": "-19.2113"
        },
        "timezone": {
          "offset": "-4:00",
          "description": "Atlantic Time (Canada), Caracas, La Paz"
        }
      },
      "email": "kerim.koybasi@example.com",
      "login": {
        "uuid": "8944e4dd-cad3-4ecf-becf-b780fe9bcec8",
        "username": "smallzebra761",
        "password": "treasure",
        "salt": "VPZm3V08",
        "md5": "61fa6ee0cff1b9502af181ef20ae50ff",
        "sha1": "0de1afb168ace8924967a6f31aff13a16e7636d0",
        "sha256": "d9c46fbc4727bc8805eb4e07e777f52855e4bf56d81eb01fca495b4dc071ce34"
      },
      "dob": {
        "date": "1972-01-19T18:13:02.963Z",
        "age": 53
      },
      "registered": {
        "date": "2013-03-26T09:01:06.744Z",
        "age": 12
      },
      "phone": "(995)-788-8541",
      "cell": "(987)-037-1481",
      "id": {
        "name": "",
        "value": null
      },
      "picture": {
        "large": "https://randomuser.me/api/portraits/men/2.jpg",
        "medium": "https://randomuser.me/api/portraits/med/men/2.jpg",
        "thumbnail": "https://randomuser.me/api/portraits/thumb/men/2.jpg"
      },
      "nat": "TR"
    }
  ],
  "info": {
    "seed": "c3b9e90230262975",
    "results": 1,
    "page": 1,
    "version": "1.4"
  }
}
```
</details>

## 3. åŸºæœ¬çš„ãªé…åˆ—æ“ä½œ
ğŸ”¸ é…åˆ—ã¨ã¯ï¼Ÿ

é…åˆ—ï¼ˆArrayï¼‰ã¯ã€è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã²ã¨ã¾ã¨ã‚ã«ã—ã¦ç®¡ç†ã™ã‚‹ãŸã‚ã®ç®±ã§ã™ã€‚

```javascript
const fruits = ['apple', 'banana', 'orange']
console.log(fruits[0]) // apple
```


ğŸ“¦ã€ŒåŒã˜ç¨®é¡ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦ã¹ã¦æ‰±ã†ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

microCMSã‹ã‚‰å–å¾—ã—ãŸã€Œè¨˜äº‹ä¸€è¦§ã€ã‚‚ã€å®Ÿã¯é…åˆ—ã®å½¢ã§è¿”ã£ã¦ãã¾ã™ã€‚

```javascript
// microCMSã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
data.contents = [
  { title: 'ãŠçŸ¥ã‚‰ã›1', publishedAt: '2025-01-01' },
  { title: 'ãŠçŸ¥ã‚‰ã›2', publishedAt: '2025-02-01' }
]
```

ğŸ”¸ ã‚ˆãä½¿ã†é…åˆ—ãƒ¡ã‚½ãƒƒãƒ‰

| ãƒ¡ã‚½ãƒƒãƒ‰        | èª¬æ˜               | ä½¿ç”¨ä¾‹                                              |
| ----------- | ---------------- | ------------------------------------------------ |
| `forEach()` | ã™ã¹ã¦ã®è¦ç´ ã‚’é †ã«å‡¦ç†      | `fruits.forEach(f => console.log(f))`            |
| `map()`     | å„è¦ç´ ã‚’å¤‰æ›ã—ã¦æ–°ã—ã„é…åˆ—ã‚’ä½œã‚‹ | `const upper = fruits.map(f => f.toUpperCase())` |
| `filter()`  | æ¡ä»¶ã«åˆã†è¦ç´ ã ã‘æ®‹ã™      | `const long = fruits.filter(f => f.length > 5)`  |
| `find()`    | æ¡ä»¶ã«åˆã†æœ€åˆã®è¦ç´ ã‚’è¿”ã™    | `fruits.find(f => f === 'banana')`               |


## 4. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ‰±ã„
ğŸ”¸ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã¯ï¼Ÿ

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Œ1ã¤ã®ã‚‚ã®ã«é–¢ã™ã‚‹æƒ…å ±ã‚’ã¾ã¨ã‚ãŸæ§‹é€ ã€ã§ã™ã€‚
**{ã‚­ãƒ¼: å€¤}** ã®ãƒšã‚¢ã§ãƒ‡ãƒ¼ã‚¿ã‚’æŒã¡ã¾ã™ã€‚

```javascript
const article = {
  title: 'microCMSè¬›åº§é–‹å‚¬ï¼',
  date: '2025-11-04',
  category: 'ãŠçŸ¥ã‚‰ã›'
}

console.log(article.title) // microCMSè¬›åº§é–‹å‚¬ï¼
```


ğŸ”¸ é…åˆ—ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®çµ„ã¿åˆã‚ã›

APIã®ãƒ‡ãƒ¼ã‚¿ã¯ãŸã„ã¦ã„ ã€Œé…åˆ—ã®ä¸­ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ ã¨ã„ã†å½¢ã§è¿”ã£ã¦ãã¾ã™ã€‚

```javascript
const articles = [
  { title: 'ãŠçŸ¥ã‚‰ã›1', date: '2025-01-01' },
  { title: 'ãŠçŸ¥ã‚‰ã›2', date: '2025-02-01' }
]

console.log(articles[0].title) // ãŠçŸ¥ã‚‰ã›1
```

## 5. DOMæ“ä½œã®åŸºç¤
ğŸ”¸ DOMã¨ã¯ï¼Ÿ

DOMï¼ˆDocument Object Modelï¼‰ã¯ã€
HTMLã‚’JavaScriptã‹ã‚‰æ“ä½œã§ãã‚‹ã‚ˆã†ã«ã—ãŸä»•çµ„ã¿ã§ã™ã€‚

ãŸã¨ãˆã°ã€Œè¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã‚’HTMLã«è¡¨ç¤ºã—ãŸã„ã€ã¨ãã«ä½¿ã„ã¾ã™ã€‚

ğŸ”¸ è¦ç´ ã‚’å–å¾—ã™ã‚‹

```javascript
const list = document.getElementById('news-list')
```

ã“ã‚Œã§ã€HTMLå†…ã® `<ul id="news-list">` ã‚’JavaScriptã‹ã‚‰æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ğŸ”¸ è¦ç´ ã‚’ä½œã£ã¦è¿½åŠ ã™ã‚‹
```javascript
const li = document.createElement('li')
li.textContent = 'microCMSè¬›åº§é–‹å‚¬ï¼'
list.appendChild(li)
```

ã“ã‚Œã§HTMLã«æ–°ã—ã„ `<li>` è¦ç´ ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚


| æ¦‚å¿µ     | èª¬æ˜             | microCMSã§ã®æ´»ç”¨               |
| ------ | -------------- | -------------------------- |
| é…åˆ—     | è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ã‚’ã¾ã¨ã‚ã¦æ‰±ã†   | è¨˜äº‹ä¸€è¦§ (`data.contents`)     |
| ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ | 1ã¤ã®æƒ…å ±ã®ã¾ã¨ã¾ã‚Š     | è¨˜äº‹1ä»¶ (`{title, date, id}`) |
| DOMæ“ä½œ  | HTMLè¦ç´ ã‚’å‹•çš„ã«å¤‰æ›´ã™ã‚‹ | å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ç”»é¢ã«è¡¨ç¤º              |
