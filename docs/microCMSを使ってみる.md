# ğŸ”Œ microCMSã‚’ä½¿ã£ã¦ã¿ã‚‹ - 50 min

## microCMSã«ã¤ã„ã¦

å›½å†…ã§ã¯ã€**microCMS** ãŒä»£è¡¨çš„ãªãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹CMSã¨ã—ã¦äººæ°—ã§ã™ã€‚

[microCMSï½œAPIãƒ™ãƒ¼ã‚¹ã®æ—¥æœ¬è£½ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹CMS](https://microcms.io/)

## ğŸŒŸ ç‰¹å¾´

- **ç´”å›½ç”£ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹CMS**
    - æ—¥æœ¬ã®é–‹ç™ºãƒãƒ¼ãƒ ã«ã‚ˆã£ã¦é‹å–¶ã•ã‚Œã¦ã„ã‚‹ã€‚æµ·å¤–è£½CMSã«æ¯”ã¹ã¦ã€Œæ—¥æœ¬èªå¯¾å¿œã®æ‰‹åšã•ã€ãŒå¤§ããªå¼·ã¿ã€‚
- **ç›´æ„Ÿçš„ãªç®¡ç†ç”»é¢**
  - UIã®ç¶ºéº—ã•ãƒ»æ©Ÿèƒ½ã®ã‚·ãƒ³ãƒ—ãƒ«ã•ã¨ååˆ†ã•ãªã©éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚‚ç›´æ„Ÿçš„ã«æ“ä½œã§ãã‚‹ç®¡ç†ç”»é¢ã€‚
- **æ–™é‡‘ä½“ç³»ãŒæ˜ç¢º**
    - ç„¡æ–™ãƒ—ãƒ©ãƒ³ã€œæœ‰æ–™ãƒ—ãƒ©ãƒ³ã¾ã§æ®µéšçš„ã«ç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‚„å°è¦æ¨¡ã‚µã‚¤ãƒˆã§ã‚‚å°å…¥ã—ã‚„ã™ã„ã€‚
- **å®Ÿç¸¾ã®å¤šã•**
    - å›½ç”£ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹CMSã§ã¯ãƒˆãƒƒãƒ—ã‚·ã‚§ã‚¢ã§ã€[æ¡ç”¨å®Ÿç¸¾](https://microcms.io/projects/) ãŒè±Šå¯Œã€‚
- **å¥½ã¿ã®è¨€èªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ä½¿ãˆã‚‹**
    - Rubyã€Next.jsã€Vue.jsã€GOè¨€èªãªã©ã€å¹…åºƒã„é¸æŠè‚¢ã§ã®é€£æºãŒå¯èƒ½ã€‚å®Ÿéš›ã«ã€å…¬å¼ã‚µã‚¤ãƒˆã«è¤‡æ•°ã®è¨€èªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ç”¨ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒä¸å¯§ã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã€‚

---

### ğŸ§­ å‘ã„ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹

- **ä¸­å°è¦æ¨¡ã®Webã‚µã‚¤ãƒˆ**
  - ãƒ–ãƒ­ã‚°ã€ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚µã‚¤ãƒˆã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚µã‚¤ãƒˆã€ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚µã‚¤ãƒˆãªã©ã€ä¸­å°è¦æ¨¡ã®Webã‚µã‚¤ãƒˆã«æœ€é©ã€‚
- **æ—¥æœ¬èªå¯¾å¿œãŒå¿…è¦ãªå ´åˆ**
  - æ—¥æœ¬èªã®ã‚µãƒãƒ¼ãƒˆã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå……å®Ÿã—ã¦ã„ã‚‹ãŸã‚ã€æ—¥æœ¬ã®ä¼æ¥­ã‚„é–‹ç™ºè€…ã«ã¨ã£ã¦ä½¿ã„ã‚„ã™ã„ã€‚
- **ç·¨é›†è€…ãƒ»ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé‹ç”¨ã—ã‚„ã™ã„**
  - ç›´æ„Ÿçš„ãªUIã§ã€éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ç·¨é›†è€…ã‚„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã‚‚ç°¡å˜ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†ãŒå¯èƒ½ã€‚

## å®Ÿè£…

### æµã‚Œ 

1. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    -  ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³ï¼ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„æ–¹ã¯ã€ã“ã¡ã‚‰ã‚ˆã‚Šã‚’ZIPã‚’è½ã¨ã—ã¦ãã ã•ã„ã€‚ï¼‰
       -  [å®Œæˆç‰ˆ](https://github.com/rik9228/microcms-catchup_251107/)
       -  [åˆæœŸç‰ˆ](https://github.com/rik9228/microcms-catchup_251107/tree/feature/init)
   - ã‚µãƒ¼ãƒ“ã‚¹ä½œæˆï¼ˆmicroCMSï¼‰
2. ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ä½œæˆ
3. è©³ç´°ãƒšãƒ¼ã‚¸ä½œæˆ
4. ä¸€è¦§ãƒšãƒ¼ã‚¸ä½œæˆ

### å‰ææ¡ä»¶

- microCMS ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½œæˆæ¸ˆã¿
- API ã‚­ãƒ¼ï¼ˆX-API-KEYï¼‰ãŒç™ºè¡Œã•ã‚Œã¦ã„ã‚‹

### åŸºæœ¬ã®æ›¸ãæ–¹

#### 1. ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­å®š

ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨ã¯ã€APIã®URLã®ã“ã¨ã§ã™ã€‚
ã“ã¡ã‚‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ã€APIãŒè¿”ã™ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã¾ã™ã€‚

â€»microCMSãªã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è¦³ç‚¹ã§`APIã‚­ãƒ¼`ãŒå¿…è¦ã«ãªã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚

```javascript
const SERVICE_DOMAIN = "xxxxx"; // xxxxx ã¯microCMSã§ä½œæˆã—ãŸã‚µãƒ¼ãƒ“ã‚¹ID
const ENDPOINT = `https://${SERVICE_DOMAIN}}$.microcms.io/api/v1/news`; // newsï¼šä½œæˆã—ãŸAPIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
```

-> `SERVICE_DOMAIN` ã¯ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

#### 2. ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆfetchï¼‰

```javascript
async function fetchNews() {
  const res = await fetch(ENDPOINT, {
    headers: { "X-API-KEY": API_KEY } // ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®APIã‚­ãƒ¼ãŒå¿…è¦
  });
  const data = await res.json();

  return data;
}
```

-> `API_KEY` ã¯ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

#### 3. DOMã«æç”»

å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’DOMã«æç”»ã—ã¾ã™ã€‚

microcmsã§ã¯ã€ãŸã¨ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ãŒè¿”ã£ã¦ãã¾ã™ã€‚

```json
{
  "contents": [
    {
      "id": "xxxxxxxxxxxx",
      "title": "è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«",
      "publishedAt": "2023-01-01T00:00:00+09:00"
    },
    ...
  ],
  "totalCount": 100,
  "offset": 0,
  "limit": 10,
}
```

contentsï¼ˆé…åˆ—ï¼‰ã®ä¸­ã«è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã‚‹ã®ã§ã€<br/>
ã“ã‚Œã‚’`forEach()`ã«ã‚ˆã‚‹ãƒ«ãƒ¼ãƒ—å‡¦ç†ã§DOMã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚

```javascript
data.contents.forEach(item => {
  const li = document.createElement("li");
  li.innerHTML = `
    <a href="/news/post/?id=${item.id}">
      ${item.title}
    </a>
    <small>${item.publishedAt?.slice(0,10) || "æ—¥ä»˜æœªå®š"}</small>
  `;
  document.getElementById("news-list").appendChild(li);
});
```

---

### ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸

- [HTML](/index.html)
- [JavaScript](/assets/js/script.js)

### è¨˜äº‹è©³ç´°ãƒšãƒ¼ã‚¸

â€»è©³ç´°ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦ã¯ã€è¨˜äº‹è©³ç´°ãƒšãƒ¼ã‚¸ç”¨ã®HTMLã²ã¨ã¤ã‚’ä½¿ã£ã¦ã€<br />URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§è¨˜äº‹IDã‚’å—ã‘å–ã‚Šã€APIã‹ã‚‰è©²å½“è¨˜äº‹ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã—ã¾ã™ã€‚

- [HTML](/news/post/index.html)
- [JavaScript](/assets/js/post.js)

### ä¸€è¦§ãƒšãƒ¼ã‚¸

- [HTML](/news/index.html)
- [JavaScript](/assets/js/news.js)

---

[ã‚µã‚¤ãƒˆã«å…¬é–‹ã—ã‚ˆã†](/docs/ã‚µã‚¤ãƒˆã«å…¬é–‹ã—ã‚ˆã†.md)