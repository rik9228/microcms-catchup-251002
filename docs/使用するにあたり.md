## ⌛ microCMSを使用するにあたり

Q. プラグインなどはありますか？

> microCMSはヘッドレスCMSであり、コンテンツ管理に特化しているため、従来のCMSのようなプラグインシステムは提供していません。 サイトに組み込むには外部のサービスやライブラリと連携することが無難です。
> 
> 例えば、検索機能を追加したい場合は、Algoliaなどの検索サービスと組み合わせることができます。
> また、フォーム機能を追加したい場合は、FormrunやTypeformなどのフォームサービスを利用することができます。

---


Q. ページネーションの実装方法は？
> microCMSのAPIは、ページネーションをサポートしています。ページネーションを実装するには、APIリクエストに`limit`と`offset`パラメータを追加します。
> - `limit`: 1回のリクエストで取得するアイテム
> - `offset`: 取得を開始する位置
> 例えば、1ページあたり10件のアイテムを表示し、2ページ目を取得する場合、`limit=10`と`offset=10`を指定します。
> APIリクエストの例:
> ```
> GET https://your-service.microcms.io/api/v1/your-endpoint?limit=
> 10&offset=10
> ```

<details>
<summary>ソースコード</summary>

```javascript
// 1ページに5件表示
const LIMIT = 5;

// 現在ページが3の場合（URLパラメータなどか取得）
const currentPage = 3;

// offset = (3 - 1) * 5 = 10
const offset = (currentPage - 1) * LIMIT;

// APIリクエスト
fetch(`${ENDPOINT}?limit=${LIMIT}&offset=${offset}`, {
  headers: { "X-API-KEY": API_KEY }
});
```
</summary>

Q. ページ送りはどうやって実装するの？

基本の考え方
- まずすべての記事一覧を「並び順付き」で取得する
- 現在の記事IDの位置を探す
- その前後にある記事を「前／次の記事」として表示する

<details>
<summary>ソースコード</summary>

```javascript
const SERVICE_DOMAIN = "your-service-id";
const API_KEY = "your-api-key";
const ENDPOINT = `https://${SERVICE_DOMAIN}.microcms.io/api/v1/news`;

// 現在の記事ID（例: URLから取得）
const currentId = window.location.pathname.split("/").pop();

async function fetchPrevNext() {
  // 公開日が新しい順で並び替えて取得
  const res = await fetch(`${ENDPOINT}?orders=-publishedAt&limit=100`, {
    headers: { "X-API-KEY": API_KEY },
  });
  const data = await res.json();
  const articles = data.contents;

  // 現在の記事のインデックスを特定
  const currentIndex = articles.findIndex(a => a.id === currentId);

  const prev = articles[currentIndex - 1]; // 前の記事
  const next = articles[currentIndex + 1]; // 次の記事

  renderNav(prev, next);
}

function renderNav(prev, next) {
  const nav = document.getElementById("article-nav");
  nav.innerHTML = `
    ${prev ? `<a href="/news/${prev.id}">← ${prev.title}</a>` : ""}
    ${next ? `<a href="/news/${next.id}">${next.title} →</a>` : ""}
  `;
}

fetchPrevNext();
```

</summary>


---

Q. 画面プレビューはどうやって実装するの？

> 前提として、microCMSはヘッドレスCMSと呼ばれる見た目を持たないCMSになるため、従来型のCMSとはプレビューの仕組みが根本的に異なります。
> 
> プレビューを実施するためには、フロントエンド側でmicroCMSから下書き状態のコンテンツを取得し、レンダリングする仕組みを実装する必要があります。
> 
> そのためには、コンテンツを一意に特定するためのコンテンツIDや、下書き状態のコンテンツを取得するためのdraftKeyを、URLとしてフロントエンド側に連携する必要があります。

[詳しくはこちら](https://document.microcms.io/manual/screen-preview)

---

Q. どういうケースに適していますか？

> microCMSは以下のようなケースに適しています。
> - ブログやニュースサイト、コーポレートサイト、ポートフォリオサイトなど、中小規模のWebサイト
> - WordPressを使うほどではないが、既存の静的サイトに部分的にCMS機能を追加したい場合
> - PHPやMySQLなどのサーバーサイド技術を使わずに、JavaScriptや静的サイトジェネレーターでサイトを構築したい場合
> 
> など

Q. サクッと構築したいです

microCMSサイトにて、いくつかテンプレートが用意されているので、そちらを利用するのがオススメです ↓↓↓

https://templates.microcms.io/templates/detail/de25a5ff-5731-42b0-ac35-6fafdf7ff143